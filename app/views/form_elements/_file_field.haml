.test_form_data_attr
  = form.label (local_assigns[:label] ? label : attribute), class: :test_form_data_attr_label

  - if form.object.does_not_have_attached(attribute)
    = form.file_field attribute, class: :test_form_data_attr_input_file_upload

  - if form.object.does_have_attached(attribute)
    .test_form_data_attr_attachment
      .test_form_data_attr_attachment_filename= form.object.method(attribute).call.blob.filename
      - if local_assigns[:purge_path]
        .test_form_data_attr_attachment_purge_link= link_to 'purge attachment', purge_path
